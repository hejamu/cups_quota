This is a small Python script to be used as a deamon to enact printing quotas for CUPS. It tracks CUPS' page_log and maintains a SQLite database to store the printed pages for each user. You can supply an external command to take away printer access from a user when the page quota is reached.

The script handles log rotations properly. The timezone information in the log's time information is not taken into account.


Setup on Mac OS X Server 10.8
- Checkout this repository to /Library/Server/WebData/WebApps/cups_quota
- cd /Library/Server/Web/Config/apache2/webapps && ln -s ../../../Data/WebApps/cups_quota/osx/de.uni-stuttgart.physcip.cupsquota.plist .
- Enable the webapp in Server Admin or run sudo webappctl start de.uni-stuttgart.physcip.cupsquota